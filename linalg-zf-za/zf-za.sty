\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[left=5mm, right=5mm, bottom=15mm, top=15mm]{geometry}
\usepackage{lastpage}
\usepackage{ulem}
\usepackage{bm}
\usepackage{tikz}
\usepackage{pgfplots}
\usetikzlibrary{positioning, calc, fit, matrix, decorations, angles, quotes, babel, 3d, arrows.meta, shadings, circuits.logic.IEC, circuits.ee.IEC, automata}
\usepackage{wrapfig}
\usepackage[explicit]{titlesec}

\usepackage{titling}
\usepackage{calc}
\usepackage{fancyhdr}
\usepackage{enumitem}
\setlist{nolistsep, leftmargin = 4mm}

\usepackage{multicol}
\usepackage{adjustbox}
\usepackage{multirow}
\usepackage{csvsimple}
\usepackage{xcolor}
\usepackage{colortbl}

\usepackage{textcomp}
\usepackage{amsmath}
\usepackage{esint}
\usepackage{amssymb}    % \cdots
\usepackage{cancel}     % strike-through terms
\usepackage{gensymb}
\usepackage{siunitx}

\usepackage{parskip}
\usepackage{tcolorbox}
\usepackage{mathtools, amsthm, color, comment, graphicx, environ}

\newcommand{\createmainpagestyle}{
    \fancypagestyle{main}{
        \fancyhf{}
        \lfoot{Al-Fatlawi}
	\lhead{FS21}
	\rhead{Lineare Algebra, Zusammenfassung}
        \cfoot{\today}
        \rfoot{Seite \thepage \protect{ }von \pageref{LastPage}}
        \renewcommand{\headrulewidth}{0.5pt}
        \renewcommand{\footrulewidth}{0.5pt}
    }
}

\def\MLine#1{\par\hspace*{-\leftmargin}\parbox{\textwidth}{\[#1\]}}

\def\labelitemi{-}

% pgfplot layers
\pgfplotsset{compat=1.7}                                                                % Version? f√ºr Plots  
\pgfdeclarelayer{bg}
\pgfdeclarelayer{l1}
\pgfdeclarelayer{l2}
\pgfdeclarelayer{l3}
\pgfdeclarelayer{tl1}
\pgfdeclarelayer{tl2}
\pgfdeclarelayer{tl3}
\pgfsetlayers{bg,l3,l2,l1,main,tl1,tl2,tl3}

% easier way to make augumented coefficient matrices
\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother

\setlength{\columnseprule}{1pt}
\def\columnseprulecolor{\color{twoColor}}

\newcommand{\raisedrulefill}[2][0ex]{\leaders\hbox{\rule[#1]{1pt}{#2}}\hfill}

\titleformat{\section}{\sffamily\bfseries\boldmath\large}{}{0pt}{\colorbox{primaryheader}{\parbox[c][3mm]{\linewidth -
6pt}{\textcolor{numColor}{#1}}}}
\titleformat{\subsection}{\sffamily\bfseries\boldmath}{}{0pt}{\colorbox{secondaryheader}{\parbox[c][2mm]{\linewidth -
6pt}{\textcolor{numColor}{#1}}}}
\titleformat{\subsubsection}{\sffamily\bfseries\boldmath}{}{0pt}{\textcolor{thirdheader}{#1 \raisedrulefill[0.4ex]{0.5pt}}}
\titleformat{\paragraph}[runin]{\sffamily\bfseries\boldmath}{}{0pt}{\uline{#1}}

\definecolor{primaryheader}{HTML}{6153CC}
\definecolor{secondaryheader}{HTML}{D44D5C}
\definecolor{thirdheader}{HTML}{3F6C51}

\definecolor{numColor}{HTML}{FFFFFF}
\definecolor{twoColor}{HTML}{3F6C51}

\newcommand{\overrideplainstyle}{
    \fancypagestyle{plain}{
        \fancyhf{}
        \rfoot{Seite \thepage \protect{ }von \pageref{LastPage}}
        \renewcommand{\headrulewidth}{0pt}
        \renewcommand{\footrulewidth}{0pt}
    }
}

\renewcommand{\familydefault}{\sfdefault}
